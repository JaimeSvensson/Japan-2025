/* === Japan 2025 — Refined Japanese-inspired UI === */
:root{
  /* Palette */
  --brand: #bc002d;         /* hinomaru red */
  --brand-600: #a50026;
  --brand-700: #8f001f;
  --ink-strong: #0f2540;    /* deep indigo for headings */
  --bg-soft: #fff1f4;       /* sakura */
  --bg-soft-2: #fdf7fa;     /* lighter sakura */
  --ring: 0 0 0 3px rgba(188,0,45,.25);

  --card-bg: #ffffff;
  --page-bg: #f8fafc;       /* slate-50 */
  --border: #e5e7eb;        /* gray-200 */
  --text-muted: #64748b;    /* slate-500 */
}

/* Smooth scroll and base colors */
html,body{scroll-behavior:smooth}
body{color:#0f172a}

/* ============================================= */
/* Background layer: subtle sakura + wave feel   */
/* ============================================= */
.bg-layer{
  /* Two soft radial lights + overall wash */
  background:
    radial-gradient(1200px 800px at 80% -10%, rgba(255,241,244,.75), rgba(255,241,244,0) 60%),
    radial-gradient(900px 600px at -10% 90%, rgba(188,0,45,.06), rgba(188,0,45,0) 60%),
    var(--page-bg);
  position: relative;
}

/* Optional ultra-subtle pattern overlay (seigaiha-inspired) */
.bg-layer::before{
  content:"";
  position: fixed; inset: 0;
  pointer-events:none; z-index:-1; opacity:.06;
  background-image:
    radial-gradient(circle at 25px 25px, rgba(15,37,64,.12) 2px, transparent 2px),
    radial-gradient(circle at 0 0, rgba(15,37,64,.12) 2px, transparent 2px);
  background-size: 50px 50px, 50px 50px;
  background-position: 0 0, 25px 25px;
  mix-blend-mode: multiply;
}

/* ================== */
/* Header + Wave band */
/* ================== */
.app-header{
  background:
    linear-gradient(180deg, rgba(255,241,244,.85), rgba(255,241,244,0)) ,
    #ffffff;
  backdrop-filter: saturate(180%) blur(8px);
  -webkit-backdrop-filter: saturate(180%) blur(8px);
  box-shadow: 0 2px 12px rgba(2,8,23,.04);
}
.header-wave{ width:100%; height:64px; overflow:hidden; line-height:0; }
.header-wave svg{ width:100%; height:100%; display:block; }

/* Brand */
.app-logo { letter-spacing: -0.01em; color: var(--ink-strong); }
.logo-text { color: var(--ink-strong); }

/* Make flag pop on light backgrounds */
.flag-badge{
  display:inline-flex; align-items:center; justify-content:center;
  width:32px; height:24px; padding:2px;
  background: #fff; border:1px solid rgba(2,8,23,.06);
  border-radius:8px; box-shadow: 0 2px 8px rgba(2,8,23,.08);
}
.flag-jp{ display:block; border-radius:3px; }

/* ========= */
/* Cards     */
/* ========= */
.card{
  background:var(--card-bg);
  border:1px solid var(--border);
  border-radius:16px; /* 2xl */
  box-shadow: 0 1px 2px rgba(0,0,0,.04);
  transition: box-shadow .2s ease, transform .05s ease;
}
.card:hover{ box-shadow: 0 8px 20px rgba(2,132,199,.10), 0 2px 6px rgba(0,0,0,.04); }

/* ========= */
/* Buttons   */
/* ========= */
.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:.5rem;
  border-radius:12px; padding:.5rem .75rem; font-weight:500;
  border:1px solid var(--border);
  transition: background .15s, box-shadow .15s, transform .05s;
}
.btn:active{ transform: translateY(1px); }
.btn:focus-visible{ outline:none; box-shadow: var(--ring); }

.btn-primary{ color:#fff; background:var(--brand); border-color:transparent; }
.btn-primary:hover{ background:var(--brand-600); }
.btn-primary:active{ background:var(--brand-700); }

.btn-outline{ background:#fff; color:#0f172a; }
.btn-outline:hover{ box-shadow: 0 4px 14px rgba(2, 8, 23, .06); }

/* ========= */
/* Inputs    */
/* ========= */
input, select, textarea{ border-radius:12px; }
input:focus-visible, select:focus-visible, textarea:focus-visible{
  outline:none; box-shadow: var(--ring); border-color: var(--brand);
}
input, select, textarea{ min-height: 40px; }

/* ========= */
/* Chips     */
/* ========= */
.chip{
  display:inline-block; padding:.25rem .625rem; border-radius:999px;
  font-size:.875rem; border:1px solid var(--border);
}

/* ========= */
/* Toasts    */
/* ========= */
#toaster{
  position:fixed; inset:auto 0 1rem 0; display:flex; flex-direction:column;
  gap:.5rem; align-items:center; z-index:9999; pointer-events:none;
}
.toast{
  pointer-events:auto; background:#0b1220; color:#fff; border-radius:12px;
  padding:.625rem .875rem; box-shadow:0 10px 30px rgba(2,8,23,.25);
  opacity:0; transform:translateY(6px) scale(.98);
  transition:opacity .18s ease, transform .18s ease; max-width:90vw;
}
.toast.show{ opacity:1; transform:translateY(0) scale(1); }
.toast.success{ background:#065f46; }
.toast.error{ background:#7f1d1d; }

/* ============================ */
/* Header – username as a chip  */
/* ============================ */
#userName{
  display:inline-flex; align-items:center; gap:.375rem;
  padding:.25rem .5rem; border:1px solid var(--border);
  border-radius:999px; font-weight:500; color:#0f172a; background:#fff;
}
#userName::before{
  content:""; width:.5rem; height:.5rem; border-radius:999px; background:#10b981;
}

/* ============================ */
/* Headings in content          */
/* ============================ */
h2, h3{ color: var(--ink-strong); }
.text-muted{ color: var(--text-muted); }

/* Utility for soft background sections (optional) */
.bg-soft{ background: var(--bg-soft-2); }
